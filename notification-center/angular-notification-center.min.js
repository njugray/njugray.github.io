angular.module("notification",[]).directive("notificationCenter",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="notification-center">   <div ng-transclude></div></div>',controller:["$scope","$element","$attrs","NfService","$q",function(a,b,c,d,e){function f(b){var c=a.messages.indexOf(b);-1!==c&&a.messages.splice(c,1)}function g(b){var c=a.messages.indexOf(b);-1!==c&&a.messages.splice(c,1)}function h(a,b){a.then(function(){g(b)},function(){f(b)})}a.messages=[],a.$receive=function(b){a.messages.push(b);var c=e.defer(),d=c.promise;return b._defer=c,h(d,b),d},d.register(a.notificationName,function(b){return a.$receive(b)})}],scope:{messages:"=nfMessages",notificationName:"@nfName"}}}).directive("message",function(){return{restrict:"E",require:"^notificationCenter",replace:!0,transclude:!0,template:'<div ng-mouseenter="mouseenter()" ng-mouseleave="mouseleave()">  <div class="alert clearfix alert-{{message.config.type}}" ng-class="{\'alert-dismissible\':message.config.dismiss}">\n   <button ng-if="message.config.dismiss" type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="close()"><span aria-hidden="true">&times;</span></button>\n   <div>       <div class=""><label>{{message.title}}</label></div>       <div class="pull-left">{{message.msg}}</div>       <div class="btn btn-primary pull-right"           ng-if="message.config.confirm"            ng-click="confirm(message)">{{message.config.confirmText}}</div>           </div>   </div></div>',scope:{message:"=nfMessage",onDismiss:"&",onConfirm:"&"},controller:["$scope","$element","$attrs","NfService","$q","$timeout",function(a,b,c,d,e,f){var g=a.message,h=g._defer;g._defer=null;var i=g.config.delay&&g.config.delay>0,j=function(){h.reject("notification dismissed")};i&&(a.dismissTimer=f(j,g.config.delay)),a.close=function(){h.reject("notification dismissed")},a.confirm=function(a){h.resolve(a)},a.mouseenter=function(){i&&f.cancel(a.dismissTimer)},a.mouseleave=function(){i&&(a.dismissTimer=f(j,g.config.delay))},a.$on("$destory",function(){console.log("destoried"),i&&f.cancel(a.dismissTimer)})}]}}).provider("NfService",function(){var a={type:"info",dismiss:!1,confirm:!1,confirmText:"ok",delay:3e3};this.$get=["$window","$rootScope","$log",function(){var b=function(b,c,d){d=angular.extend({},a,d),d.delay&&"0"!==d.delay&&0!==d.delay||(d.dismiss=!0),this.title=b,this.msg=c,this.config=d};b.prototype["for"]=function(a){return this.target=a,this};var c={},d=[];return c.notify=function(a){var c=a.title,e=a.message,f=a.config,g=a.target,h=new b(c,e,f),i=[];angular.isArray(g)&&(i=g),"string"==typeof g&&i.push(g);for(var j={},k=0,l=d.length;l>k;k++){var m=d[k];(0===i.length||-1!==i.indexOf(m.name))&&"function"==typeof m.handle&&(j[m.name]?(j[m.name]=[j[m.name]],j[m.name].push(j[m.name])):j[m.name]=m.handle(h))}return j},c.register=function(a,b){d.push({name:a,handle:b})},c.unregister=function(a,b){for(var c=0,e=d.length;e>c;c++)d[c].name!==a||d[c].handle!==b||(d.splice(c,1),c--,e--)},c.unregisterAll=function(a){for(var b=0,c=d.length;c>b;b++)d[b].name!==a||(d.splice(b,1),b--,c--)},c}]});
//# sourceMappingURL=angular-notification-center.min.map